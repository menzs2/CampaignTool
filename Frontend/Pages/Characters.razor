@page "/characters"

@inject CharacterDataService dataService
@using System.Net.Http.Json
@using Shared;

<PageTitle>Campaign Tool Charaktere</PageTitle>

<h1>Charaktere</h1>
@if (CharactersList != null && CharactersList.Any())
{
    <div>
        <Frontend.Components.ListComponent EntityList="@(CharactersList?.Cast<BaseEntityDto>().ToList())"
            EntityType="Charakter" />
    </div>
}$
else
{
    <p>Not data found.</p>
}

@code {
    public List<CharacterDto>? CharactersList { get; set; }

    protected override async Task OnInitializedAsync()
    {
        CharactersList = await dataService.GetCharacterDtosByCampaignAsync(1);
    }
}